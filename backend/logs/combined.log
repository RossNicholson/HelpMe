{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 13:53:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 13:53:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 13:53:51"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:03:54"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:03:54"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:03:54"}
{"ip":"::1","level":"error","message":"Not Found - /","method":"GET","service":"helpme-api","stack":"Error: Not Found - /\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/rossnicholson/HelpMe/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9","timestamp":"2025-06-28 14:05:04","url":"/","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:05:04 +0000] \"GET / HTTP/1.1\" 500 - \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:05:04"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:05:52"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:05:52"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:05:52"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:05:53 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:05:53"}
{"level":"info","message":"Client connected: a9HeHUL3oCsgJ3gQAAAC","service":"helpme-api","timestamp":"2025-06-28 14:23:39"}
{"code":"28000","file":"miscinit.c","length":100,"level":"error","line":"755","message":"Login error: role \"postgres\" does not exist","name":"error","routine":"InitializeSessionUserId","service":"helpme-api","severity":"FATAL","stack":"error: role \"postgres\" does not exist\n    at Parser.parseErrorMessage (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:285:98)\n    at Parser.handlePacket (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:122:29)\n    at Parser.parse (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:35:38)\n    at Socket.<anonymous> (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-28 14:24:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:24:44 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:24:44"}
{"code":"28000","file":"miscinit.c","length":100,"level":"error","line":"755","message":"Login error: role \"postgres\" does not exist","name":"error","routine":"InitializeSessionUserId","service":"helpme-api","severity":"FATAL","stack":"error: role \"postgres\" does not exist\n    at Parser.parseErrorMessage (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:285:98)\n    at Parser.handlePacket (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:122:29)\n    at Parser.parse (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:35:38)\n    at Socket.<anonymous> (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-28 14:24:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:24:59 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:24:59"}
{"level":"info","message":"Client disconnected: a9HeHUL3oCsgJ3gQAAAC","service":"helpme-api","timestamp":"2025-06-28 14:25:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:26:15 +0000] \"GET /health HTTP/1.1\" 200 106 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:26:15"}
{"level":"info","message":"Client connected: 9LFuGEavaYJ6BGlxAAAF","service":"helpme-api","timestamp":"2025-06-28 14:26:20"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:26:54 +0000] \"POST /api/auth/login HTTP/1.1\" 401 47 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:26:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:27:04 +0000] \"POST /api/auth/login HTTP/1.1\" 401 47 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:27:04"}
{"level":"error","message":"Login error: secretOrPrivateKey must have a value","service":"helpme-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/rossnicholson/HelpMe/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at generateRefreshToken (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:17:14)\n    at login (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:118:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:27:52"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:27:52 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:27:52"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:28:08"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:28:08"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:28:20"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:28:20"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:28:20"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:28:38 +0000] \"POST /api/auth/login HTTP/1.1\" 401 47 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:28:38"}
{"level":"info","message":"Client disconnected: 9LFuGEavaYJ6BGlxAAAF","service":"helpme-api","timestamp":"2025-06-28 14:28:45"}
{"level":"info","message":"Client connected: SrnbxqnyJUTtQ0t4AAAC","service":"helpme-api","timestamp":"2025-06-28 14:28:45"}
{"level":"info","message":"Client disconnected: SrnbxqnyJUTtQ0t4AAAC","service":"helpme-api","timestamp":"2025-06-28 14:30:18"}
{"level":"info","message":"Client connected: -rVre5wmdG4Yz6nIAAAF","service":"helpme-api","timestamp":"2025-06-28 14:30:18"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"Client connected: PrOu66ExC8gu6TVtAAAB","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:31:02 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:31:02"}
{"level":"error","message":"Login error: secretOrPrivateKey must have a value","service":"helpme-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/rossnicholson/HelpMe/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at generateRefreshToken (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:17:14)\n    at login (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:118:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:31:06"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:31:06 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:31:06"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:31:28"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:31:28"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:31:28"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:32:57 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:32:57"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:34:49"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:34:49"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:34:49"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:34:51 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:34:51"}
{"level":"info","message":"Client connected: GKu_TL5RCGJaqbZNAAAC","service":"helpme-api","timestamp":"2025-06-28 14:37:25"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:37:25 +0000] \"GET /api/auth/me HTTP/1.1\" 200 240 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:37:25"}
{"level":"info","message":"Client disconnected: PrOu66ExC8gu6TVtAAAB","service":"helpme-api","timestamp":"2025-06-28 14:37:30"}
{"level":"info","message":"Client connected: 1xIcudlFILSkpx4qAAAF","service":"helpme-api","timestamp":"2025-06-28 14:37:30"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:37:30 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:37:30"}
{"level":"info","message":"Client disconnected: GKu_TL5RCGJaqbZNAAAC","service":"helpme-api","timestamp":"2025-06-28 14:38:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:23 +0000] \"GET /health HTTP/1.1\" 200 105 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:38:23"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:28 +0000] \"GET /api/tickets HTTP/1.1\" 401 63 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:38:28"}
{"level":"info","message":"Client disconnected: 1xIcudlFILSkpx4qAAAF","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"info","message":"Client connected: neSIAj9-0mP2Rie9AAAI","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:44 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:44 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"error","message":"Error getting SLA compliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getSLACompliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/sla?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting ticket analytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getTicketAnalytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/tickets?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting time tracking stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getTimeTrackingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/time-tracking?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting client performance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getClientPerformance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/clients?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting billing stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getBillingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/billing?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:154:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:154:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:39:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:03 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 462 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:194:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:194:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:39:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:03 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 656 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Get SMS settings error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:149:28)\n    at getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:10:41)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"error","message":"Get SMS settings error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:149:28)\n    at getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:10:41)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:05 +0000] \"GET /api/sms/settings HTTP/1.1\" 500 87 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:05"}
{"level":"error","message":"Get SMS templates error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:196:19)\n    at getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:110:42)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"error","message":"Get SMS templates error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:196:19)\n    at getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:110:42)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:05 +0000] \"GET /api/sms/templates HTTP/1.1\" 500 88 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:05"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:39:56"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:39:56"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:39:56"}
{"level":"info","message":"Client connected: Cjv9c9HSqNH5Y_qKAAAB","service":"helpme-api","timestamp":"2025-06-28 14:39:57"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"Client connected: oieuh5GHO86FpilJAAAB","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"Client connected: 8Uf3bXV-Miq58VCZAAAB","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:40:55"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:40:55"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:40:55"}
{"level":"info","message":"Client connected: 7pRwKMa1N3GwDbW8AAAB","service":"helpme-api","timestamp":"2025-06-28 14:40:56"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:41:15"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:41:15"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:41:15"}
{"level":"info","message":"Client connected: 6RuYe9A9bePFuDL7AAAB","service":"helpme-api","timestamp":"2025-06-28 14:41:16"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:42:05"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:42:05"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:42:05"}
{"level":"info","message":"Client connected: xLflZtyf_4hbLuIDAAAB","service":"helpme-api","timestamp":"2025-06-28 14:42:06"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"info","message":"Client connected: m9eI4HQR9u22CdKbAAAB","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 645 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 645 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 485 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 485 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error getting ticket analytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTicketAnalytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/tickets?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting SLA compliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getSLACompliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/sla?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting SLA compliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getSLACompliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/sla?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting time tracking stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTimeTrackingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/time-tracking?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting billing stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getBillingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/billing?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting client performance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getClientPerformance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/clients?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting time tracking stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTimeTrackingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/time-tracking?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting billing stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getBillingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/billing?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting client performance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getClientPerformance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/clients?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting ticket analytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTicketAnalytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/tickets?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:43:01 +0000] \"GET /health HTTP/1.1\" 200 104 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:43:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:43:07 +0000] \"GET /api/audit/logs?limit=10 HTTP/1.1\" 401 63 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:43:07"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:43:24 +0000] \"GET /health HTTP/1.1\" 200 104 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:43:24"}
{"level":"info","message":"Client disconnected: m9eI4HQR9u22CdKbAAAB","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"Client connected: lrdBRI5oQe8gc3AmAAAE","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:44:41 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:44:41 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"Client connected: iSCpcrrNb1rwCeluAAAG","service":"helpme-api","timestamp":"2025-06-28 14:45:37"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:47:33"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:47:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:47:33 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 485 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:47:33"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:47:33"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:47:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:47:33 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 645 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:47:33"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"Client connected: 1_xeQ6aLvyDMI868AAAB","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"Client connected: MN1D8kss05G4G1bFAAAD","service":"helpme-api","timestamp":"2025-06-28 14:47:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:49:40 +0000] \"GET /health HTTP/1.1\" 200 105 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:49:40"}
{"level":"info","message":"Client connected: SiZd4xLYMSEFC4I5AAAG","service":"helpme-api","timestamp":"2025-06-28 14:49:55"}
{"level":"info","message":"Client disconnected: 1_xeQ6aLvyDMI868AAAB","service":"helpme-api","timestamp":"2025-06-28 14:49:55"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:49:55 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:49:55"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:50:02","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:02 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:02 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:02 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"Client disconnected: SiZd4xLYMSEFC4I5AAAG","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"Client connected: LneiBSz_iHNpAwNIAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:50:13"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:13 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:13"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:13 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:13"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:50:15","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:50:15","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"Client disconnected: LneiBSz_iHNpAwNIAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"Client connected: mturd6oNI-QVGr-bAAAM","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:53:00","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:53:00","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"Client disconnected: mturd6oNI-QVGr-bAAAM","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:01 +0000] \"GET /api/auth/me HTTP/1.1\" 429 69 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:01 +0000] \"GET /api/auth/me HTTP/1.1\" 429 69 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"Client connected: -jLYLe5Oo75m4obSAAAP","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:56:03"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:56:03"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:56:03"}
{"level":"info","message":"Client connected: usn_Zci3BTbYFW1-AAAB","service":"helpme-api","timestamp":"2025-06-28 14:56:04"}
{"level":"info","message":"Client connected: Nsz4C5-bYlxpcMFwAAAD","service":"helpme-api","timestamp":"2025-06-28 14:56:07"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:56:10 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:56:10"}
{"level":"info","message":"Client disconnected: usn_Zci3BTbYFW1-AAAB","service":"helpme-api","timestamp":"2025-06-28 14:56:48"}
{"level":"info","message":"Client disconnected: Nsz4C5-bYlxpcMFwAAAD","service":"helpme-api","timestamp":"2025-06-28 14:56:50"}
{"level":"info","message":"Client connected: HdY2QtXLcnP9Q1PnAAAG","service":"helpme-api","timestamp":"2025-06-28 14:56:50"}
{"level":"info","message":"Client disconnected: HdY2QtXLcnP9Q1PnAAAG","service":"helpme-api","timestamp":"2025-06-28 14:59:16"}
{"level":"info","message":"Client connected: zGCGyj4IPkF1sc1NAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:59:16"}
{"level":"info","message":"Client disconnected: zGCGyj4IPkF1sc1NAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:59:44"}
{"level":"info","message":"Client connected: 8Cx9bxgDvmsWqArUAAAM","service":"helpme-api","timestamp":"2025-06-28 14:59:44"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"Client connected: 6gXyshBZkD0KVUwuAAAB","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"Client disconnected: 6gXyshBZkD0KVUwuAAAB","service":"helpme-api","timestamp":"2025-06-28 15:03:58"}
{"level":"info","message":"Client connected: ndYi-7q4eewVGt1KAAAE","service":"helpme-api","timestamp":"2025-06-28 15:03:59"}
{"level":"info","message":"Client connected: LZEj1CSsnYvhDIOyAAAH","service":"helpme-api","timestamp":"2025-06-28 15:04:03"}
{"level":"info","message":"Client disconnected: ndYi-7q4eewVGt1KAAAE","service":"helpme-api","timestamp":"2025-06-28 15:04:03"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:07:16","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:07:19","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:08:00"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:08:00"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:08:03"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:08:03"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:08:03"}
{"level":"info","message":"Client disconnected: LZEj1CSsnYvhDIOyAAAH","service":"helpme-api","timestamp":"2025-06-28 15:08:05"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:11:09"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:11:09"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:11:09"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:13:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:13:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:13:51"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:13:52 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:13:52"}
{"level":"info","message":"Client connected: GlVUGfVPHyxbvignAAAB","service":"helpme-api","timestamp":"2025-06-28 15:13:55"}
{"level":"info","message":"Client connected: hDrWq3r2TeZMQ5cAAAAE","service":"helpme-api","timestamp":"2025-06-28 15:14:06"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:14:17 +0000] \"POST /api/auth/register HTTP/1.1\" 201 620 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:14:17"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:14:28","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:14:56","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"Client connected: ikHb7wTKJPoQAwVxAAAB","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"Client connected: i08Op5K-17YY4psjAAAD","service":"helpme-api","timestamp":"2025-06-28 15:15:13"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:15:24"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:15:24"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:15:24"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:15:41 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:15:41"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:15:46 +0000] \"POST /api/auth/register HTTP/1.1\" 201 621 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:15:46"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:15:52 +0000] \"POST /api/auth/register HTTP/1.1\" 201 616 \"http://localhost:3000/register\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:15:52"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:16:05 +0000] \"POST /api/auth/login HTTP/1.1\" 200 577 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:16:05"}
{"level":"error","message":"Error getting tickets: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:24:19)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 15:16:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:16:10 +0000] \"GET /api/tickets HTTP/1.1\" 500 84 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:16:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:16:10 +0000] \"GET /api/clients HTTP/1.1\" 500 35 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:16:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:17:16 +0000] \"GET /api/clients HTTP/1.1\" 500 35 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:17:16"}
{"level":"error","message":"Error getting tickets: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:24:19)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 15:17:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:17:16 +0000] \"GET /api/tickets HTTP/1.1\" 500 84 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:17:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:17:16 +0000] \"GET /api/clients HTTP/1.1\" 500 35 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:17:16"}
{"level":"error","message":"Error getting tickets: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:24:19)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 15:17:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:17:16 +0000] \"GET /api/tickets HTTP/1.1\" 500 84 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:17:16"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:18:52"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:18:52"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:18:52"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:19:42"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:19:42"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:19:42"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:20:15 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:20:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:20:15 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:20:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:20:17 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:20:17"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:20:21"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:20:21"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:20:21"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:20:29"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:20:29"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:20:29"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:20:34 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:20:34"}
{"level":"error","message":"Token verification failed: jwt malformed","name":"JsonWebTokenError","service":"helpme-api","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (/Users/rossnicholson/HelpMe/backend/node_modules/jsonwebtoken/verify.js:70:17)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:27:27)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:175:3)","timestamp":"2025-06-28 15:20:38"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:20:38 +0000] \"GET /api/clients HTTP/1.1\" 401 41 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:20:38"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:15 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:15 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:17 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:17"}
{"level":"error","message":"Error getting tickets: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:23:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 15:21:17"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:17 +0000] \"GET /api/tickets HTTP/1.1\" 500 84 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:17"}
{"level":"error","message":"Error getting tickets: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:23:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 15:21:19"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:19 +0000] \"GET /api/tickets HTTP/1.1\" 500 84 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:19"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:19 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:19"}
{"level":"error","message":"Error getting tickets: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:23:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 15:21:19"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:19 +0000] \"GET /api/tickets HTTP/1.1\" 500 84 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:19"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:19 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:19"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:20 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:20"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:20 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:20"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:49 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:49"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:21:49 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:21:49"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:23:01"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:23:01"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:23:01"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:23:55"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:23:55"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:23:55"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:25:06"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:25:06"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:25:06"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:25:06 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:25:06"}
{"level":"error","message":"Token verification failed: jwt malformed","name":"JsonWebTokenError","service":"helpme-api","stack":"JsonWebTokenError: jwt malformed\n    at module.exports [as verify] (/Users/rossnicholson/HelpMe/backend/node_modules/jsonwebtoken/verify.js:70:17)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:27:27)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:175:3)","timestamp":"2025-06-28 15:25:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:25:16 +0000] \"GET /api/clients HTTP/1.1\" 401 41 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:25:16"}
{"level":"info","message":"Client disconnected: i08Op5K-17YY4psjAAAD","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"error","message":"Token verification failed: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:37:26)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:25:33 +0000] \"GET /api/auth/me HTTP/1.1\" 401 63 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"Client connected: 2O9kLiWQtO7nSrzcAAAC","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"error","message":"Refresh token error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at refreshToken (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:419:24)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:25:33 +0000] \"POST /api/auth/refresh-token HTTP/1.1\" 401 49 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"error","message":"Refresh token error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at refreshToken (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:419:24)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:25:33 +0000] \"POST /api/auth/refresh-token HTTP/1.1\" 401 49 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"Client disconnected: 2O9kLiWQtO7nSrzcAAAC","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"Client connected: r8Wegu456kWbBJoZAAAF","service":"helpme-api","timestamp":"2025-06-28 15:25:33"}
{"level":"info","message":"Client disconnected: r8Wegu456kWbBJoZAAAF","service":"helpme-api","timestamp":"2025-06-28 15:25:36"}
{"level":"info","message":"Client disconnected: ikHb7wTKJPoQAwVxAAAB","service":"helpme-api","timestamp":"2025-06-28 15:26:04"}
{"level":"info","message":"Client connected: 74W-KEcbK4tbhgUzAAAI","service":"helpme-api","timestamp":"2025-06-28 15:26:04"}
{"level":"info","message":"Client disconnected: 74W-KEcbK4tbhgUzAAAI","service":"helpme-api","timestamp":"2025-06-28 15:26:57"}
{"level":"info","message":"Client connected: TGQm0537y6yiUehWAAAL","service":"helpme-api","timestamp":"2025-06-28 15:26:57"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:30:31"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:30:31"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:30:31"}
{"level":"info","message":"Client connected: OiiWr85pLEHkV_OeAAAB","service":"helpme-api","timestamp":"2025-06-28 15:30:32"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:30:45"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:30:45"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:30:45"}
{"level":"info","message":"Client connected: QC821VNqNsYnAfkyAAAB","service":"helpme-api","timestamp":"2025-06-28 15:30:46"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:31:23"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:31:54"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:31:54"}
{"level":"info","message":"Client disconnected: QC821VNqNsYnAfkyAAAB","service":"helpme-api","timestamp":"2025-06-28 15:32:06"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:32:12"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:32:12"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:32:12"}
{"level":"info","message":"Client connected: _FLkPagn_WjV0IA6AAAB","service":"helpme-api","timestamp":"2025-06-28 15:32:17"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:40:42"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:40:42"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:40:42"}
{"level":"info","message":"Client connected: 0kyzE6YmQc9CnwstAAAB","service":"helpme-api","timestamp":"2025-06-28 15:40:45"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:41:30 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:41:30"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:46:55"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:46:55"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:46:55"}
{"level":"info","message":"Client connected: yw1D6PjqoMlk2reMAAAB","service":"helpme-api","timestamp":"2025-06-28 15:47:00"}
{"level":"info","message":"Client disconnected: yw1D6PjqoMlk2reMAAAB","service":"helpme-api","timestamp":"2025-06-28 15:50:54"}
{"level":"info","message":"Client connected: zqXbTht1MzPfHtW-AAAE","service":"helpme-api","timestamp":"2025-06-28 15:50:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:50:54 +0000] \"GET /api/auth/me HTTP/1.1\" 200 240 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:50:54"}
{"level":"error","message":"Error getting tickets: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [tickets.organization_id] query: select \"tickets\".*, \"clients\".\"name\" as \"client_name\", \"creator\".\"first_name\" as \"creator_first_name\", \"creator\".\"last_name\" as \"creator_last_name\", \"assignee\".\"first_name\" as \"assignee_first_name\", \"assignee\".\"last_name\" as \"assignee_last_name\" from \"tickets\" inner join \"clients\" on \"tickets\".\"client_id\" = \"clients\".\"id\" inner join \"users\" as \"creator\" on \"tickets\".\"created_by\" = \"creator\".\"id\" left join \"users\" as \"assignee\" on \"tickets\".\"assigned_to\" = \"assignee\".\"id\" where \"tickets\".\"organization_id\" = ? order by \"tickets\".\"created_at\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [tickets.organization_id] query: select \"tickets\".*, \"clients\".\"name\" as \"client_name\", \"creator\".\"first_name\" as \"creator_first_name\", \"creator\".\"last_name\" as \"creator_last_name\", \"assignee\".\"first_name\" as \"assignee_first_name\", \"assignee\".\"last_name\" as \"assignee_last_name\" from \"tickets\" inner join \"clients\" on \"tickets\".\"client_id\" = \"clients\".\"id\" inner join \"users\" as \"creator\" on \"tickets\".\"created_by\" = \"creator\".\"id\" left join \"users\" as \"assignee\" on \"tickets\".\"assigned_to\" = \"assignee\".\"id\" where \"tickets\".\"organization_id\" = ? order by \"tickets\".\"created_at\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async getTickets (/Users/rossnicholson/HelpMe/backend/src/controllers/ticketController.js:63:21)","timestamp":"2025-06-28 15:52:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:52:16 +0000] \"GET /api/tickets HTTP/1.1\" 500 803 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:52:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:52:16 +0000] \"GET /api/clients HTTP/1.1\" 500 51 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:52:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:52:18 +0000] \"GET /health HTTP/1.1\" 200 105 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:52:18"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:52:50"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:52:50"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:52:50"}
{"level":"info","message":"Client connected: ZZzjGPoh8aUpG81RAAAB","service":"helpme-api","timestamp":"2025-06-28 15:52:51"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:52:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:52:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:52:51"}
{"level":"info","message":"Client connected: 9CKk-EHReZXgE_gvAAAB","service":"helpme-api","timestamp":"2025-06-28 15:52:53"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:52:58"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:52:58"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:52:58"}
{"level":"info","message":"Client connected: Bu30vcWDWqrc_auNAAAB","service":"helpme-api","timestamp":"2025-06-28 15:52:59"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:53:00"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:53:00"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:53:00"}
{"level":"info","message":"Client connected: y6VufRitwLrkO-XwAAAB","service":"helpme-api","timestamp":"2025-06-28 15:53:01"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:53:21"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:53:21"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:53:21"}
{"level":"info","message":"Client connected: 6fNo4LQxtD_-ihncAAAB","service":"helpme-api","timestamp":"2025-06-28 15:53:21"}
{"level":"error","message":"Error getting dashboard stats: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async getDashboardStats (/Users/rossnicholson/HelpMe/backend/src/controllers/dashboardController.js:14:25)","timestamp":"2025-06-28 15:54:45"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:54:45 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 500 855 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:54:45"}
{"level":"error","message":"Error getting dashboard stats: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async getDashboardStats (/Users/rossnicholson/HelpMe/backend/src/controllers/dashboardController.js:14:25)","timestamp":"2025-06-28 15:54:45"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:54:45 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 500 855 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:54:45"}
{"level":"info","message":"Client disconnected: 6fNo4LQxtD_-ihncAAAB","service":"helpme-api","timestamp":"2025-06-28 15:55:44"}
{"level":"info","message":"Client connected: aLiiOOUoJAZQHF0eAAAE","service":"helpme-api","timestamp":"2025-06-28 15:55:45"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:55:45 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:55:45"}
{"level":"error","message":"Error getting dashboard stats: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async getDashboardStats (/Users/rossnicholson/HelpMe/backend/src/controllers/dashboardController.js:14:25)","timestamp":"2025-06-28 15:55:45"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:55:45 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 500 855 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:55:45"}
{"level":"error","message":"Error getting dashboard stats: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async getDashboardStats (/Users/rossnicholson/HelpMe/backend/src/controllers/dashboardController.js:14:25)","timestamp":"2025-06-28 15:55:45"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:55:45 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 500 855 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:55:45"}
{"level":"error","message":"Error getting dashboard stats: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_tickets, COUNT(CASE WHEN status = 'open' THEN 1 END) as open_tickets, COUNT(CASE WHEN status = 'resolved' THEN 1 END) as resolved_tickets, COUNT(CASE WHEN status = 'closed' THEN 1 END) as closed_tickets, COUNT(CASE WHEN priority = 'high' THEN 1 END) as high_priority, COUNT(CASE WHEN priority = 'urgent' THEN 1 END) as urgent_tickets, COUNT(CASE WHEN due_date < NOW() AND status != 'resolved' AND status != 'closed' THEN 1 END) as overdue_tickets, COUNT(CASE WHEN DATE(created_at) = DATE(NOW()) THEN 1 END) as tickets_today, COUNT(CASE WHEN DATE(resolved_at) = DATE(NOW()) THEN 1 END) as resolved_today from \"tickets\" where \"organization_id\" = ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async getDashboardStats (/Users/rossnicholson/HelpMe/backend/src/controllers/dashboardController.js:14:25)","timestamp":"2025-06-28 15:55:46"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:55:46 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 500 855 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:55:46"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:57:02"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:57:02"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:57:02"}
{"level":"info","message":"Client connected: SQp3fkl_Tf-c2kAAAAAB","service":"helpme-api","timestamp":"2025-06-28 15:57:03"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:57:13"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:57:13"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:57:13"}
{"level":"info","message":"Client connected: FSNK5_8j2Afx0V49AAAB","service":"helpme-api","timestamp":"2025-06-28 15:57:14"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:57:17"}
{"level":"info","message":"Client disconnected: FSNK5_8j2Afx0V49AAAB","service":"helpme-api","timestamp":"2025-06-28 15:57:22"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:57:36"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:57:36"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:57:36"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:57:36 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:57:36"}
{"level":"info","message":"Client connected: JMoS5ovKot1h87VeAAAB","service":"helpme-api","timestamp":"2025-06-28 15:57:40"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:57:43 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:57:43"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:57:43 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 200 1027 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:57:43"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:57:56 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:57:56"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:57:56 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:57:56"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:57:56 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:57:56"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:58:03 +0000] \"GET /api/clients HTTP/1.1\" 200 916 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:58:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:58:03 +0000] \"GET /api/clients HTTP/1.1\" 200 916 \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:58:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:58:07 +0000] \"GET /api/clients HTTP/1.1\" 200 916 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:58:07"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:58:07 +0000] \"GET /api/tickets HTTP/1.1\" 200 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 15:58:07"}
{"level":"info","message":"Client disconnected: JMoS5ovKot1h87VeAAAB","service":"helpme-api","timestamp":"2025-06-28 15:58:07"}
{"level":"info","message":"Client connected: 9ur3HaE6_nwaG5r2AAAE","service":"helpme-api","timestamp":"2025-06-28 16:00:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:03 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:03 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:03 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:03 +0000] \"GET /api/tickets HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:03 +0000] \"GET /api/tickets HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:18 +0000] \"GET /health HTTP/1.1\" 200 105 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:00:18"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:25 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:00:25"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:25 +0000] \"GET /api/tickets HTTP/1.1\" 200 1796 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:00:25"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:36 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:36"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:36 +0000] \"GET /api/tickets HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:36"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:46 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:46"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:46 +0000] \"GET /api/tickets HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:46"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:50 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:50"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:50 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:50"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:54 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:54 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:54 +0000] \"GET /api/tickets HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:54 +0000] \"GET /api/tickets HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:56 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:56"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:00:56 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:00:56"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:01:01 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:01:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:01:01 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:01:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:01:17 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:01:17"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:01:17 +0000] \"GET /api/clients HTTP/1.1\" 304 - \"http://localhost:3000/clients\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:01:17"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:01:22 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:01:22"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:01:22 +0000] \"GET /api/dashboard/stats HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 16:01:22"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 16:01:46"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 16:01:46"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 16:01:46"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 16:01:46"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 16:01:46"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 16:01:46"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 16:02:04"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 16:02:04"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 16:02:04"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:04 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:04"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:10 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:10 +0000] \"GET /api/clients HTTP/1.1\" 200 916 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:16 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:16 +0000] \"POST /api/clients HTTP/1.1\" 201 453 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:16"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:52 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:52"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:02:52 +0000] \"POST /api/clients HTTP/1.1\" 500 51 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:02:52"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 16:03:11"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 16:03:11"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 16:03:11"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:03:18 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:03:18"}
{"level":"info","message":"::1 - - [28/Jun/2025:15:03:18 +0000] \"POST /api/clients HTTP/1.1\" 201 504 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 16:03:18"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 16:03:28"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 16:03:28"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 16:03:28"}
