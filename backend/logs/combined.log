{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 13:53:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 13:53:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 13:53:51"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:03:54"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:03:54"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:03:54"}
{"ip":"::1","level":"error","message":"Not Found - /","method":"GET","service":"helpme-api","stack":"Error: Not Found - /\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at logger (/Users/rossnicholson/HelpMe/backend/node_modules/morgan/index.js:144:5)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9","timestamp":"2025-06-28 14:05:04","url":"/","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:05:04 +0000] \"GET / HTTP/1.1\" 500 - \"-\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:05:04"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:05:52"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:05:52"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:05:52"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:05:53 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:05:53"}
{"level":"info","message":"Client connected: a9HeHUL3oCsgJ3gQAAAC","service":"helpme-api","timestamp":"2025-06-28 14:23:39"}
{"code":"28000","file":"miscinit.c","length":100,"level":"error","line":"755","message":"Login error: role \"postgres\" does not exist","name":"error","routine":"InitializeSessionUserId","service":"helpme-api","severity":"FATAL","stack":"error: role \"postgres\" does not exist\n    at Parser.parseErrorMessage (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:285:98)\n    at Parser.handlePacket (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:122:29)\n    at Parser.parse (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:35:38)\n    at Socket.<anonymous> (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-28 14:24:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:24:44 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:24:44"}
{"code":"28000","file":"miscinit.c","length":100,"level":"error","line":"755","message":"Login error: role \"postgres\" does not exist","name":"error","routine":"InitializeSessionUserId","service":"helpme-api","severity":"FATAL","stack":"error: role \"postgres\" does not exist\n    at Parser.parseErrorMessage (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:285:98)\n    at Parser.handlePacket (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:122:29)\n    at Parser.parse (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/parser.js:35:38)\n    at Socket.<anonymous> (/Users/rossnicholson/HelpMe/backend/node_modules/pg-protocol/dist/index.js:11:42)\n    at Socket.emit (node:events:507:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)\n    at TCP.onStreamRead (node:internal/stream_base_commons:189:23)","timestamp":"2025-06-28 14:24:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:24:59 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:24:59"}
{"level":"info","message":"Client disconnected: a9HeHUL3oCsgJ3gQAAAC","service":"helpme-api","timestamp":"2025-06-28 14:25:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:26:15 +0000] \"GET /health HTTP/1.1\" 200 106 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:26:15"}
{"level":"info","message":"Client connected: 9LFuGEavaYJ6BGlxAAAF","service":"helpme-api","timestamp":"2025-06-28 14:26:20"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:26:54 +0000] \"POST /api/auth/login HTTP/1.1\" 401 47 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:26:54"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:27:04 +0000] \"POST /api/auth/login HTTP/1.1\" 401 47 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:27:04"}
{"level":"error","message":"Login error: secretOrPrivateKey must have a value","service":"helpme-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/rossnicholson/HelpMe/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at generateRefreshToken (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:17:14)\n    at login (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:118:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:27:52"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:27:52 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:27:52"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:28:08"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:28:08"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:28:20"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:28:20"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:28:20"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:28:38 +0000] \"POST /api/auth/login HTTP/1.1\" 401 47 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:28:38"}
{"level":"info","message":"Client disconnected: 9LFuGEavaYJ6BGlxAAAF","service":"helpme-api","timestamp":"2025-06-28 14:28:45"}
{"level":"info","message":"Client connected: SrnbxqnyJUTtQ0t4AAAC","service":"helpme-api","timestamp":"2025-06-28 14:28:45"}
{"level":"info","message":"Client disconnected: SrnbxqnyJUTtQ0t4AAAC","service":"helpme-api","timestamp":"2025-06-28 14:30:18"}
{"level":"info","message":"Client connected: -rVre5wmdG4Yz6nIAAAF","service":"helpme-api","timestamp":"2025-06-28 14:30:18"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"Client connected: PrOu66ExC8gu6TVtAAAB","service":"helpme-api","timestamp":"2025-06-28 14:31:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:31:02 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:31:02"}
{"level":"error","message":"Login error: secretOrPrivateKey must have a value","service":"helpme-api","stack":"Error: secretOrPrivateKey must have a value\n    at module.exports [as sign] (/Users/rossnicholson/HelpMe/backend/node_modules/jsonwebtoken/sign.js:111:20)\n    at generateRefreshToken (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:17:14)\n    at login (/Users/rossnicholson/HelpMe/backend/src/controllers/authController.js:118:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:31:06"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:31:06 +0000] \"POST /api/auth/login HTTP/1.1\" 500 53 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:31:06"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 14:31:23"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:31:28"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:31:28"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:31:28"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:32:57 +0000] \"POST /api/auth/login HTTP/1.1\" 200 582 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:32:57"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:34:49"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:34:49"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:34:49"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:34:51 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:34:51"}
{"level":"info","message":"Client connected: GKu_TL5RCGJaqbZNAAAC","service":"helpme-api","timestamp":"2025-06-28 14:37:25"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:37:25 +0000] \"GET /api/auth/me HTTP/1.1\" 200 240 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:37:25"}
{"level":"info","message":"Client disconnected: PrOu66ExC8gu6TVtAAAB","service":"helpme-api","timestamp":"2025-06-28 14:37:30"}
{"level":"info","message":"Client connected: 1xIcudlFILSkpx4qAAAF","service":"helpme-api","timestamp":"2025-06-28 14:37:30"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:37:30 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:37:30"}
{"level":"info","message":"Client disconnected: GKu_TL5RCGJaqbZNAAAC","service":"helpme-api","timestamp":"2025-06-28 14:38:10"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:23 +0000] \"GET /health HTTP/1.1\" 200 105 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:38:23"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:28 +0000] \"GET /api/tickets HTTP/1.1\" 401 63 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:38:28"}
{"level":"info","message":"Client disconnected: 1xIcudlFILSkpx4qAAAF","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"info","message":"Client connected: neSIAj9-0mP2Rie9AAAI","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:44 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:38:44 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:38:44"}
{"level":"error","message":"Error getting SLA compliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getSLACompliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/sla?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting ticket analytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getTicketAnalytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/tickets?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting time tracking stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getTimeTrackingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/time-tracking?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting client performance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getClientPerformance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/clients?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error getting billing stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error in getBillingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:01 +0000] \"GET /api/reports/billing?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:01"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:154:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, \"users\".\"name\" as \"user_name\", \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"created_at\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:154:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:39:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:03 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 462 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:194:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = \"critical\" THEN 1 END) as critical_events, COUNT(CASE WHEN severity = \"high\" THEN 1 END) as high_events, COUNT(CASE WHEN severity = \"medium\" THEN 1 END) as medium_events, COUNT(CASE WHEN action = \"LOGIN\" THEN 1 END) as login_events, COUNT(CASE WHEN action = \"DELETE\" THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"created_at\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:194:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:39:03"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:03 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 656 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:03"}
{"level":"error","message":"Get SMS settings error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:149:28)\n    at getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:10:41)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"error","message":"Get SMS settings error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:149:28)\n    at getSMSSettings (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:10:41)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:05 +0000] \"GET /api/sms/settings HTTP/1.1\" 500 87 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:05"}
{"level":"error","message":"Get SMS templates error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:196:19)\n    at getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:110:42)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"error","message":"Get SMS templates error: db is not a function","service":"helpme-api","stack":"TypeError: db is not a function\n    at SMSService.getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/services/smsService.js:196:19)\n    at getSMSTemplates (/Users/rossnicholson/HelpMe/backend/src/controllers/smsController.js:110:42)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:39:05"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:39:05 +0000] \"GET /api/sms/templates HTTP/1.1\" 500 88 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:39:05"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:39:56"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:39:56"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:39:56"}
{"level":"info","message":"Client connected: Cjv9c9HSqNH5Y_qKAAAB","service":"helpme-api","timestamp":"2025-06-28 14:39:57"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"Client connected: oieuh5GHO86FpilJAAAB","service":"helpme-api","timestamp":"2025-06-28 14:40:09"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"Client connected: 8Uf3bXV-Miq58VCZAAAB","service":"helpme-api","timestamp":"2025-06-28 14:40:30"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:40:55"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:40:55"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:40:55"}
{"level":"info","message":"Client connected: 7pRwKMa1N3GwDbW8AAAB","service":"helpme-api","timestamp":"2025-06-28 14:40:56"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:41:15"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:41:15"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:41:15"}
{"level":"info","message":"Client connected: 6RuYe9A9bePFuDL7AAAB","service":"helpme-api","timestamp":"2025-06-28 14:41:16"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:42:05"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:42:05"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:42:05"}
{"level":"info","message":"Client connected: xLflZtyf_4hbLuIDAAAB","service":"helpme-api","timestamp":"2025-06-28 14:42:06"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"info","message":"Client connected: m9eI4HQR9u22CdKbAAAB","service":"helpme-api","timestamp":"2025-06-28 14:42:51"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 645 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 645 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 485 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:42:58"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:58 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 485 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:58"}
{"level":"error","message":"Error getting ticket analytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTicketAnalytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/tickets?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting SLA compliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getSLACompliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/sla?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting SLA compliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getSLACompliance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:53:19)\n    at getSLACompliance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:17:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/sla?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting time tracking stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTimeTrackingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/time-tracking?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting billing stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getBillingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/billing?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting client performance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getClientPerformance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/clients?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting time tracking stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTimeTrackingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:78:19)\n    at getTimeTrackingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:27:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/time-tracking?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting billing stats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getBillingStats: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getBillingStats (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:113:19)\n    at getBillingStats (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:37:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/billing?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting client performance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getClientPerformance: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:142:19)\n    at getClientPerformance (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:47:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/clients?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error getting ticket analytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"error","message":"Error in getTicketAnalytics: knex is not a function","service":"helpme-api","stack":"TypeError: knex is not a function\n    at ReportService.getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/services/reportService.js:11:19)\n    at getTicketAnalytics (/Users/rossnicholson/HelpMe/backend/src/controllers/reportController.js:7:40)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:42:59 +0000] \"GET /api/reports/tickets?start_date=2025-05-29&end_date=2025-06-28 HTTP/1.1\" 500 50 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:42:59"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:43:01 +0000] \"GET /health HTTP/1.1\" 200 104 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:43:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:43:07 +0000] \"GET /api/audit/logs?limit=10 HTTP/1.1\" 401 63 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:43:07"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:43:24 +0000] \"GET /health HTTP/1.1\" 200 104 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:43:24"}
{"level":"info","message":"Client disconnected: m9eI4HQR9u22CdKbAAAB","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"Client connected: lrdBRI5oQe8gc3AmAAAE","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:44:41 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:44:41 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:44:41"}
{"level":"info","message":"Client connected: iSCpcrrNb1rwCeluAAAG","service":"helpme-api","timestamp":"2025-06-28 14:45:37"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:47:33"}
{"level":"error","message":"Error fetching audit logs: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling SELECT. Undefined column(s): [audit_logs.organization_id] query: select \"audit_logs\".*, CONCAT(users.first_name, ' ', users.last_name) as user_name, \"users\".\"email\" as \"user_email\" from \"audit_logs\" left join \"users\" on \"audit_logs\".\"user_id\" = \"users\".\"id\" where \"audit_logs\".\"organization_id\" = ? order by \"audit_logs\".\"timestamp\" desc limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:153:20)\n    at async getAuditLogs (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:42:20)","timestamp":"2025-06-28 14:47:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:47:33 +0000] \"GET /api/audit/logs?limit=100 HTTP/1.1\" 500 485 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:47:33"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:47:33"}
{"level":"error","message":"Error fetching audit summary: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?","service":"helpme-api","stack":"Error: Undefined binding(s) detected when compiling FIRST. Undefined column(s): [organization_id] query: select COUNT(*) as total_events, COUNT(CASE WHEN severity = 'critical' THEN 1 END) as critical_events, COUNT(CASE WHEN severity = 'high' THEN 1 END) as high_events, COUNT(CASE WHEN severity = 'medium' THEN 1 END) as medium_events, COUNT(CASE WHEN action = 'LOGIN' THEN 1 END) as login_events, COUNT(CASE WHEN action = 'DELETE' THEN 1 END) as delete_events, COUNT(DISTINCT user_id) as active_users from \"audit_logs\" where \"organization_id\" = ? and \"timestamp\" >= ? limit ?\n    at QueryCompiler_PG.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querycompiler.js:112:13)\n    at QueryBuilder_PostgreSQL.toSQL (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/query/querybuilder.js:84:44)\n    at ensureConnectionCallback (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/internal/ensure-connection-callback.js:4:30)\n    at Runner.ensureConnection (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Runner.run (/Users/rossnicholson/HelpMe/backend/node_modules/knex/lib/execution/runner.js:30:19)\n    at async AuditService.getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/services/auditService.js:193:23)\n    at async getAuditSummary (/Users/rossnicholson/HelpMe/backend/src/controllers/auditController.js:102:23)","timestamp":"2025-06-28 14:47:33"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:47:33 +0000] \"GET /api/audit/summary HTTP/1.1\" 500 645 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:47:33"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"Client connected: 1_xeQ6aLvyDMI868AAAB","service":"helpme-api","timestamp":"2025-06-28 14:47:43"}
{"level":"info","message":"Client connected: MN1D8kss05G4G1bFAAAD","service":"helpme-api","timestamp":"2025-06-28 14:47:44"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:49:40 +0000] \"GET /health HTTP/1.1\" 200 105 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:49:40"}
{"level":"info","message":"Client connected: SiZd4xLYMSEFC4I5AAAG","service":"helpme-api","timestamp":"2025-06-28 14:49:55"}
{"level":"info","message":"Client disconnected: 1_xeQ6aLvyDMI868AAAB","service":"helpme-api","timestamp":"2025-06-28 14:49:55"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:49:55 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:49:55"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:50:02","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:02 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:02 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:02 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"Client disconnected: SiZd4xLYMSEFC4I5AAAG","service":"helpme-api","timestamp":"2025-06-28 14:50:02"}
{"level":"info","message":"Client connected: LneiBSz_iHNpAwNIAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:50:13"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:13 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:13"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:13 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:13"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:50:15","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:50:15","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:50:15 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"Client disconnected: LneiBSz_iHNpAwNIAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:50:15"}
{"level":"info","message":"Client connected: mturd6oNI-QVGr-bAAAM","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/auth/me HTTP/1.1\" 304 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:53:00","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"ip":"::1","level":"error","message":"Not Found - /api/tickets","method":"GET","service":"helpme-api","stack":"Error: Not Found - /api/tickets\n    at notFound (/Users/rossnicholson/HelpMe/backend/src/middleware/notFound.js:2:17)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:646:15\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:265:14)\n    at protect (/Users/rossnicholson/HelpMe/backend/src/middleware/auth.js:50:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-28 14:53:00","url":"/api/tickets","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15","userId":"a38a0019-ef35-4051-a6d8-363c998bc850"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/clients HTTP/1.1\" 401 63 \"http://localhost:3000/tickets\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:00 +0000] \"GET /api/tickets HTTP/1.1\" 500 - \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:00"}
{"level":"info","message":"Client disconnected: mturd6oNI-QVGr-bAAAM","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:01 +0000] \"GET /api/auth/me HTTP/1.1\" 429 69 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:53:01 +0000] \"GET /api/auth/me HTTP/1.1\" 429 69 \"http://localhost:3000/\" \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15\"","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"Client connected: -jLYLe5Oo75m4obSAAAP","service":"helpme-api","timestamp":"2025-06-28 14:53:01"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 14:56:03"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 14:56:03"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 14:56:03"}
{"level":"info","message":"Client connected: usn_Zci3BTbYFW1-AAAB","service":"helpme-api","timestamp":"2025-06-28 14:56:04"}
{"level":"info","message":"Client connected: Nsz4C5-bYlxpcMFwAAAD","service":"helpme-api","timestamp":"2025-06-28 14:56:07"}
{"level":"info","message":"::1 - - [28/Jun/2025:13:56:10 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 14:56:10"}
{"level":"info","message":"Client disconnected: usn_Zci3BTbYFW1-AAAB","service":"helpme-api","timestamp":"2025-06-28 14:56:48"}
{"level":"info","message":"Client disconnected: Nsz4C5-bYlxpcMFwAAAD","service":"helpme-api","timestamp":"2025-06-28 14:56:50"}
{"level":"info","message":"Client connected: HdY2QtXLcnP9Q1PnAAAG","service":"helpme-api","timestamp":"2025-06-28 14:56:50"}
{"level":"info","message":"Client disconnected: HdY2QtXLcnP9Q1PnAAAG","service":"helpme-api","timestamp":"2025-06-28 14:59:16"}
{"level":"info","message":"Client connected: zGCGyj4IPkF1sc1NAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:59:16"}
{"level":"info","message":"Client disconnected: zGCGyj4IPkF1sc1NAAAJ","service":"helpme-api","timestamp":"2025-06-28 14:59:44"}
{"level":"info","message":"Client connected: 8Cx9bxgDvmsWqArUAAAM","service":"helpme-api","timestamp":"2025-06-28 14:59:44"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"Client connected: 6gXyshBZkD0KVUwuAAAB","service":"helpme-api","timestamp":"2025-06-28 15:02:48"}
{"level":"info","message":"Client disconnected: 6gXyshBZkD0KVUwuAAAB","service":"helpme-api","timestamp":"2025-06-28 15:03:58"}
{"level":"info","message":"Client connected: ndYi-7q4eewVGt1KAAAE","service":"helpme-api","timestamp":"2025-06-28 15:03:59"}
{"level":"info","message":"Client connected: LZEj1CSsnYvhDIOyAAAH","service":"helpme-api","timestamp":"2025-06-28 15:04:03"}
{"level":"info","message":"Client disconnected: ndYi-7q4eewVGt1KAAAE","service":"helpme-api","timestamp":"2025-06-28 15:04:03"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:07:16","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:07:19","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:07:35"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:08:00"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:08:00"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:08:03"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:08:03"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:08:03"}
{"level":"info","message":"Client disconnected: LZEj1CSsnYvhDIOyAAAH","service":"helpme-api","timestamp":"2025-06-28 15:08:05"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:11:09"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:11:09"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:11:09"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:13:51"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:13:51"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:13:51"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:13:52 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:13:52"}
{"level":"info","message":"Client connected: GlVUGfVPHyxbvignAAAB","service":"helpme-api","timestamp":"2025-06-28 15:13:55"}
{"level":"info","message":"Client connected: hDrWq3r2TeZMQ5cAAAAE","service":"helpme-api","timestamp":"2025-06-28 15:14:06"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:14:17 +0000] \"POST /api/auth/register HTTP/1.1\" 201 620 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:14:17"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:14:28","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"ip":"::1","level":"error","message":"Not allowed by CORS","method":"POST","service":"helpme-api","stack":"Error: Not allowed by CORS\n    at origin (/Users/rossnicholson/HelpMe/backend/src/server.js:111:16)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/rossnicholson/HelpMe/backend/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:328:13)\n    at /Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/rossnicholson/HelpMe/backend/node_modules/express/lib/router/index.js:280:10)\n    at compression (/Users/rossnicholson/HelpMe/backend/node_modules/compression/index.js:243:5)","timestamp":"2025-06-28 15:14:56","url":"/api/auth/register","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Safari/605.1.15"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"Client connected: ikHb7wTKJPoQAwVxAAAB","service":"helpme-api","timestamp":"2025-06-28 15:15:12"}
{"level":"info","message":"Client connected: i08Op5K-17YY4psjAAAD","service":"helpme-api","timestamp":"2025-06-28 15:15:13"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"SIGTERM received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"SIGINT received, shutting down gracefully","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"Database connection closed","service":"helpme-api","timestamp":"2025-06-28 15:15:16"}
{"level":"info","message":"üöÄ HelpMe API server running on port 8000","service":"helpme-api","timestamp":"2025-06-28 15:15:24"}
{"level":"info","message":"üìö API Documentation: http://localhost:8000/api-docs","service":"helpme-api","timestamp":"2025-06-28 15:15:24"}
{"level":"info","message":"üè• Health Check: http://localhost:8000/health","service":"helpme-api","timestamp":"2025-06-28 15:15:24"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:15:41 +0000] \"GET /health HTTP/1.1\" 200 103 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:15:41"}
{"level":"info","message":"::1 - - [28/Jun/2025:14:15:46 +0000] \"POST /api/auth/register HTTP/1.1\" 201 621 \"-\" \"curl/8.7.1\"","service":"helpme-api","timestamp":"2025-06-28 15:15:46"}
